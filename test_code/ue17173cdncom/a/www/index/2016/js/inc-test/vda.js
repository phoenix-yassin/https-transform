!function(t){"use strict";function e(){}var n=t.adv={};t.flashCallback={},n.merge=function(){var t=arguments.length;if(1>t)return{};if(2>t)return n.merge(n,arguments[0]);for(var e=arguments[0],i=1;t>i;i++){var o=arguments[i];for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e};var i=!1,o=/xyz/.test(function(){})?/\bbase\b/:/.*/;e.extend=function(t,a){function s(){!i&&this.init&&this.init.apply(this,arguments)}if(2==arguments.length){var r=t.split("")[0];if(r.toUpperCase()!=r)throw new Error("Constructor must begin with Uppercase letter:"+t);var c=this.extend(a);return c.classType=t,void(n[t]=c)}a=arguments[0];var u=this.prototype;i=!0;var l=new this;i=!1;for(var d in a)l[d]="function"==typeof a[d]&&"function"==typeof u[d]&&o.test(a[d])?function(t,e){return function(){var n=this.base;this.base=u[t];var i=e.apply(this,arguments);return this.base=n,i}}(d,a[d]):a[d];return s.prototype=l,s.prototype.constructor=s,s.extend=e.extend,s},n.Class=e,n.CONFIGS={baseDir:"//ue.17173cdn.com/a/lib/vda",debug:!1},n.CONFIGS=n.merge(n.CONFIGS,advConfigs.ADV_CONFIGS),n.VERSION="v0.5.0",n.merge({ENUM:{ADVSTATE:{uninit:"uninit",inited:"inited",setuped:"setuped",played:"played",stoped:"stoped",dispose:"dispose"},ERROR:{initInterface:"can not init an interface"},EVENTS:{inited:"inited",setuped:"setuped",played:"played",stoped:"stoped",dispose:"disspose"},POSITION:{topLeft:"topLeft",topCenter:"topCenter",topRight:"topRight",middleLeft:"middleLeft",middleCenter:"middleCenter",middleRight:"middleRight",bottomLeft:"bottomLeft",bottomCenter:"bottomCenter",bottomRight:"bottomRight"},RANDOMS:{allways:"allways",firstTime:"firstTime"}}})}(window),function(t){"use strict";{var e=Array.prototype.forEach,n=Object.prototype.toString,i={ARRAY:"[object Array]",NUM:"[object Number]",OBJECT:"[object Object]",STRING:"[object String]",FUNCTION:"[object Function]"},o={},a=/[^, ]+/g;"propertyIsEnumerable,isPrototypeOf,hasOwnProperty,toLocaleString,toString,valueOf,constructor".split(",")}"Boolean Number String Function Array Date RegExp Object Error".replace(a,function(t){o["[object "+t+"]"]=t.toLowerCase()});var s=Object.prototype,r=s.hasOwnProperty;t.util={sendIpa:function(t,e,n){window.jQuery&&window.jQuery(function(){_jc_ping&&_jc_ping.push(["_trackBlock",t,e,n])})},random:function(e){var o=n.call(e);return o===i.ARRAY?t.util.random(e.length):o===i.NUM?Math.floor(Math.random()*e):0},guid:function(){return"adv"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},getType:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?o[n.call(t)]||"object":typeof t},isObject:function(t){return n.call(t)===i.OBJECT},isString:function(t){return n.call(t)===i.STRING},isNum:function(t){return n.call(t)===i.NUM},isFunction:function(t){return n.call(t)===i.FUNCTION},isWindow:function(t){return t?t==t.document&&t.document!=t:!1},isPlainObject:function(e){if("object"!==t.util.getType(e)||e.nodeType||this.isWindow(e))return!1;try{if(e.constructor&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}return!0},arrDel:function(t,e){return 0>e?t:t.slice(0,e).concat(t.slice(e+1,t.length))},forEach:function(t,n,i){if(null!=t)if(e&&t.forEach===e)t.forEach(n,i);else if(t.length===+t.length)for(var o=0,a=t.length;a>o;o++)n.call(i,t[o],o,t);else for(var s in t)t.hasOwnProperty(s)&&n.call(i,t[s],s,t)},filter:function(){},urlParams:function(t){var e={};return t=t||location.href,t=~t.indexOf("?")?t.split("?")[1]:t,t&&t.replace(/([^=&]+)=([^&]*)/gi,function(t,n,i){e[n]=i}),e}},t.util.isMobile=function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPod"],n=!1,i=0;i<e.length;i++)if(t.indexOf(e[i])>-1){n=!0;break}return n}()}(adv),function(t){"use strict";t.cookie={DAY:864e5,HOUR:36e5,MINUTE:6e4,setCookie:function(t,e,n,i){var o=t+"="+escape(e);if(n){var a=new Date;a.setTime(a.getTime()+n),o+="; expires="+a.toGMTString()}i&&(o+="; domain="+i),document.cookie=o},getCookie:function(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null},deleteCookie:function(e){t.cookie.setCookie(e,1,-1e3)}}}(adv),function(t){"use strict";t.storage={set:function(e,n,i){t.storage.set=window.localStorage?function(t,e,n){var i=new Date;i.setTime(i.getTime()+n),n&&(e+=";;"+1*i),localStorage.setItem(t,e)}:function(e,n,i){t.cookie.setCookie(e,n,i)},t.storage.set(e,n,i)},get:function(e){return t.storage.get=window.localStorage?function(t){var e,n=localStorage.getItem(t);return n&&(e=n.split(";;"),!e[1]||e[1]-1*new Date>0)?e[0]:void 0}:function(e){return t.cookie.getCookie(e)},t.storage.get(e)},remove:function(e){t.storage.remove=window.localStorage?function(t){localStorage.removeItem(t)}:function(e){t.cookie.deleteCookie(e)},t.storage.remove(e)}}}(adv),function(t){"use strict";function e(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})}function n(t,e){"string"==typeof t&&(t=t.match(y)||[]);for(var n={},i=void 0!==e?e:1,o=0,a=t.length;a>o;o++)n[t[o]]=i;return n}function i(t,e){if(t.offsetWidth<=0){if(M.test(S["@:get"](t,"display"))){var n={node:t};for(var o in O)n[o]=t.style[o],t.style[o]=O[o];e.push(n)}var a=t.parentNode;a&&1==a.nodeType&&i(a,e)}}function o(t){var e={};for(var n in t)e[n]=t[n];var i=e.target=t.srcElement;if(0===t.type.indexOf("key"))e.which=null!=t.charCode?t.charCode:t.keyCode;else if(/mouse|click/.test(t.type)){var o=i.ownerDocument||DOC,a="BackCompat"===o.compatMode?o.body:o.documentElement;e.pageX=t.clientX+(a.scrollLeft>>0)-(a.clientLeft>>0),e.pageY=t.clientY+(a.scrollTop>>0)-(a.clientTop>>0)}return e.timeStamp=new Date-0,e.originalEvent=t,e.preventDefault=function(){t.returnValue=!1},e.stopPropagation=function(){t.cancelBubble=!0},e}var a,s=document.createElement("div"),r=document.documentElement,c=window.dispatchEvent,u=function(t){s.innerHTML=t;for(var e=[];s.childNodes.length;)e.push(s.removeChild(s.firstChild));return e},l=function(e,n){var i=[];if(!t.util.isString(e)||""==e)return i;var o=e.split(" "),a="",s=o[0].split(":")[0];s!=o[0]&&(a=o[0].split(":")[1]);var r=s.split("[")[0];r=r!=s?s.split("[")[1].replace(/[",\]]/g,""):"",s=s.split("[")[0];var c=null;switch(n=n||document,s.charAt(0)){case"#":c=document.getElementById(s.substr(1)),c&&i.push(c);break;case".":for(var u=n.getElementsByTagName("*"),d=s.substr(1),f=0;f<u.length;f++)-1!=u[f].className.search("\\b"+d+"\\b")&&i.push(u[f]);break;default:i=n.getElementsByTagName(s)}if(r){for(var u=[],h=r.split("="),f=0;f<i.length;f++)2==h.length&&i[f][h[0]]==h[1]&&u.push(i[f]);i=u}if(a){for(var u=[],f=0;f<i.length;f++)i[f][a]&&u.push(i[f]);i=u}if(o.length>1){for(var u=[],f=0;f<i.length;f++){var p=l(e.substr(o[0].length+1),i[f]);if(p.tagName)u.push(p);else for(var m=0;m<p.length;m++)u.push(p[m])}i=u}if(c&&1==o.length)i=c,i&&(i.length=1);else{for(var u=[],f=0;f<i.length;f++)i[f].$isAdd=!1;for(var f=0;f<i.length;f++)i[f].$isAdd||(i[f].$isAdd=!0,u.push(i[f]));i=u}return i},d=[],f=!1,h=function(e){return v(),t.isReady?e.call(document,t):d&&d.push(e),this},p=function(){if(!t.isReady){if(!document.body)return setTimeout(p,13);if(t.isReady=!0,d){for(var e,n=0;e=d[n++];)e.call(document,t);d=null}}},m=function(){if(!t.isReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(m,1)}p()}},v=function(){if(!f){if(f=!0,"complete"===document.readyState)return p();if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",p,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a),window.attachEvent("onload",p);var t=!1;try{t=null==window.frameElement}catch(e){}document.documentElement.doScroll&&t&&m()}}};t.isReady=!1;var g=/\S+/g,y=/[^, ]+/g,E=t.Dom=t.Class.extend({init:function(e,n){var i=this;this.els=[],e&&(e.nodeType?this.els.push(e):t.util.isFunction(e)?h(e):this.els=this.els.concat("<"===e.charAt(0)?u(e):l(e,n))),this.length=this.els.length,this.forEach(function(t,e){i[e]=t})},forEach:function(e){return t.util.forEach(this.els,function(t,n){e(t,n)}),this},hide:function(){return this.forEach(function(t){t.style.display="none"}),this},remove:function(){},show:function(){return this.forEach(function(t){t.style.display="block"}),this},find:function(t){return new E(t,this.els[0])},append:function(e){var n=this;return this.length&&(t.util.isString(e)&&(e=new t.Dom(e)),e.length&&e.forEach(function(t){n.els[0].appendChild(t)})),this},appendTo:function(t){return t.append(this),this},css:function(e,n){if(t.util.isPlainObject(e))for(var i in e)t.Dom.css(this,i,e[i]);else var o=t.Dom.css(this,e,n);return void 0!==o?o:this},hasClass:function(t){var e=this[0]||{};return 1===e.nodeType&&e.className?(" "+e.className+" ").indexOf(" "+t+" ")>-1:!1},addClass:function(t){var e=this[0]||{};if(t&&"string"==typeof t&&1===e.nodeType)if(e.className){var n=e.className.match(g);t.replace(g,function(t){-1===n.indexOf(t)&&n.push(t)}),e.className=n.join(" ")}else e.className=t;return this},removeClass:function(t){var e=this[0]||{};if(t&&typeof t>"o"&&1===e.nodeType&&e.className){for(var n=t.match(g)||[],i=n.length,o=" "+e.className.match(g).join(" ")+" ",a=0;i>a;a++)o=o.replace(" "+n[a]+" "," ");e.className=o.slice(1,o.length-1)}return this},attr:function(t,e){return 2===arguments.length?(this[0].setAttribute(t,e),this):this[0].getAttribute(t)},offset:function(){var t=this[0],e=t&&t.ownerDocument,n={left:0,top:0};if(!e)return n;var i=t.getBoundingClientRect(),o=e.defaultView||e.parentWindow,a=navigator.vendor||"BackCompat"===e.compatMode?e.body:e.documentElement,s=a.clientTop>>0,r=a.clientLeft>>0,c=o.pageYOffset||a.scrollTop,u=o.pageXOffset||a.scrollLeft;return n.top=i.top+c-s,n.left=i.left+u-r,n},position:function(){var e,n,i=this[0],o={top:0,left:0};if(i)return"fixed"===this.css("position")?n=i.getBoundingClientRect():(e=this.offsetParent(),n=this.offset(),"HTML"!==e[0].tagName&&(o=e.offset()),o.top+=t.Dom.css(e[0],"borderTopWidth",!0),o.left+=t.Dom.css(e[0],"borderLeftWidth",!0)),{top:n.top-o.top-t.Dom.css(i,"marginTop",!0),left:n.left-o.left-t.Dom.css(i,"marginLeft",!0)}},offsetParent:function(){for(var e=this[0].offsetParent||r;e&&"HTML"!==e.tagName&&"static"===t.Dom.css(e,"position");)e=e.offsetParent;return t.$(e||r)},width:function(){this[0]},html:function(t){return t?(this.append(t),this):this[0].innerHTML},on:function(e,n,i){this.forEach(function(o){t.Dom.on(o,e,n,i)})},off:function(e,n,i){this.forEach(function(o){t.Dom.off(o,e,n,i)})}}),w=["","-webkit-","-o-","-moz-","-ms-"];t.Dom.cssName=function(t,n,i){if(T[t])return T[t];n=n||r.style;for(var o=0,a=w.length;a>o;o++)if(i=e(w[o]+t),i in n)return T[t]=i;return null};var b=n("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom");t.Dom.css=function(n,i,o){n=n[0];var a=/[_-]/.test(i)?e(i):i;if(i=t.Dom.cssName(a)||a,void 0===o||"boolean"==typeof o){var s=S[a+":get"]||S["@:get"],r=s(n,i);return o===!0?parseFloat(r)||0:r}if(""===o)n.style[i]="";else{if(null==o||o!==o)return;isFinite(o)&&!b[a]&&(o+="px"),s=S[a+":set"]||S["@:set"],s(n,i,o)}};var T={"float":"cssFloat",background:"backgroundColor"},S=t.Dom.cssHooks={};if(S["@:set"]=function(t,e,n){try{t.style[e]=n}catch(i){}},window.getComputedStyle)S["@:get"]=function(t,e){var n,i=window.getComputedStyle(t,null);return i&&(n="filter"===e?i.getPropertyValue(e):i[e],""===n&&(n=t.style[e])),n},S["opacity:get"]=function(t){var e=S["@:get"](t,"opacity");return""===e?"1":e};else{var N=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,C=/^(top|right|bottom|left)$/,D=!!window.XDomainRequest,A="DXImageTransform.Microsoft.Alpha",x={thin:D?"1px":"2px",medium:D?"3px":"4px",thick:D?"5px":"6px"};S["@:get"]=function(t,e){var n=t.currentStyle,i=n[e];if(N.test(i)&&!C.test(i)){var o=t.style,a=o.left,s=t.runtimeStyle.left;t.runtimeStyle.left=n.left,o.left="fontSize"===e?"1em":i||0,i=o.pixelLeft+"px",o.left=a,t.runtimeStyle.left=s}return"medium"===i&&(e=e.replace("Width","Style"),"none"===n[e]&&(i="0px")),""===i?"auto":x[i]||i},S["opacity:set"]=function(t,e,n){t.style.filter="alpha(opacity="+100*n+")",t.style.zoom=1},S["opacity:get"]=function(t){var e=t.filters.alpha||t.filters[A],n=e?e.opacity:100;return n/100+""},"width,height".replace(y,function(e){S[e+":get"]=function(n){return"width"===e?n.clientWidth-t.Dom.css(n,"paddingLeft",!0)-t.Dom.css(n,"paddingRight",!0):n.clientHeight-t.Dom.css(n,"paddingTop",!0)-t.Dom.css(n,"paddingBottom",!0)}})}"top,left".replace(y,function(e){S[e+":get"]=function(n){var i=S["@:get"](n,e);return/px$/.test(i)?i:t.$(n).position()[e]+"px"}});var O={position:"absolute",visibility:"hidden",display:"block"},M=/^(none|table(?!-c[ea]).+)/;"Width,Height".replace(y,function(e){var n=e.toLowerCase(),o="client"+e,a="scroll"+e,s="offset"+e;S[n+"::get"]=function(e){var o=[];i(e,o);for(var a,s=t.Dom.css(e,n,!0),r=0;a=o[r++];){e=a.node;for(var c in a)"string"==typeof a[c]&&(e.style[c]=a[c])}return s},t.Dom[n]=function(t){var i=this[0];if(0===arguments.length){if(i.setTimeout)return i["inner"+e]||i.document.documentElement[o];if(9===i.nodeType){var r=i.documentElement;return Math.max(i.body[a],r[a],i.body[s],r[s],r[o])}return S[n+"::get"](i)}return this.css(n,t)}}),t.Dom.on=function(t,e,n,i){var a=c?n:function(e){return n.call(t,o(e))};return c?t.addEventListener(e,a,!!i):t.attachEvent("on"+e,a),a},t.Dom.off=c?function(t,e,n,i){t.removeEventListener(e,n||noop,!!i)}:function(t,e,n){t.detachEvent("on"+e,n||noop)},t.easin={},t.$=function(t,e){return new E(t,e)}}(adv),function(t){"use strict";t.flash={embed:function(e){var n,i=[],o=e.id?e.id:t.util.guid(),a=e.params,s="";return i.push('<object id="'+o+'" name="'+o+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,22,0"'),e.width&&i.push(' width="'+e.width+'"'),e.height&&i.push(' height = "'+e.height+'"'),i.push(">"),i.push('<param name="wmode" value="transparent">'),i.push('    <param name="movie" value="'+e.source+'">'),i.push('    <param name="quality" value="high">'),i.push('    <param name="allowScriptAccess" value="always">'),a&&(n=[],t.util.forEach(a,function(e,i){var a=e;t.util.isFunction(e)&&(a=t.util.guid(),window.flashCallback[a]=function(){var n=t.flash.getSWF(o);e.apply(n,arguments)}),n.push(i+"="+a)}),s=n.join("&"),i.push('    <param name="flashvars" value="'+s+'">')),i.push('    <embed wmode="transparent" flashvars="'+s+'" allowScriptAccess="always" name="'+o+'" src="'+e.source+'" quality="high" pluginspage="//www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="'+e.width+'" height="'+e.height+'"></embed>'),i.push("</object>"),t.$(i.join(""))},getParam:function(e,n){var i,o;return t.util.forEach(e.childNodes,function(e){e.name==n?i=e.value:"flashvars"===e.name?(o=t.util.urlParams(e.value),t.util.forEach(o,function(t,e){e==n&&(i=t)})):e[n]&&(i=e[n])}),i},getSWF:function(t){return-1!=navigator.appName.indexOf("Microsoft")?window[t]:document[t]}}}(adv),function(t){"use strict";t.Class.extend("EventEmitter",{init:function(){this.events={}},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(e,n){this.events[e]=n?t.util.filter(this.events[e],function(t){return t!==t}):[]},emit:function(e,n){t.util.forEach(this.events[e],function(i){t.CONFIGS.debug&&console.log(e,n),i.call(this,n)},this)}})}(adv),function(t){"use strict";t.EventEmitter.extend("IAdv",{init:function(){this.base()},setup:function(){throw new Error(t.ENUM.ERROR.initInterface)},play:function(){throw new Error(t.ENUM.ERROR.initInterface)},stop:function(){throw new Error(t.ENUM.ERROR.initInterface)}})}(adv),function(t){"use strict";t.Class.extend("Collection",{init:function(){this.cursor=0,this._arrData=[]},reset:function(){this.cursor=0},read:function(){var t;return this.cursor>=this.count()?t=null:(t=this._arrData[this.cursor].data,this.cursor++),t},count:function(){return this._arrData.length},push:function(t,e){this._arrData.push({key:t,data:e})},get:function(){var t,e=[];return arguments.length?adv.util.isNum(arguments[0])?this.forEach(function(t,n,i){i===arguments[0]&&e.push(t)}):adv.util.isString(arguments[0])?this.forEach(function(t,n){n===arguments[0]&&e.push(t)}):adv.util.isObject(arguments[0])&&(t=arguments[0],this.forEach(function(n){var i=!0;for(var o in t)n[o]&&n[o]==t[o]||(i=!1);i&&e.push(n)})):this.forEach(function(t){e.push(t)}),1===e.length&&(e=e[0]),e},forEach:function(t){adv.util.forEach(this._arrData,function(e,n){t(e.data,e.key,n)})},del:function(){}})}(adv),function(t){t.IAdv.extend("AdBase",{init:function(e){this.state=adv.ENUM.ADVSTATE.uninit,this.base(),this.options=adv.merge({},this.options,e),this.id=t.util.guid(),t.util.forEach(this.options.events,function(t){this.on(t.event,t.listener)},this),this.on(adv.ENUM.EVENTS.inited,function(){this.state=adv.ENUM.ADVSTATE.inited}),this.on(adv.ENUM.EVENTS.setuped,function(){this.state=adv.ENUM.ADVSTATE.setuped}),this.on(adv.ENUM.EVENTS.played,function(){this.state=adv.ENUM.ADVSTATE.played}),this.on(adv.ENUM.EVENTS.stoped,function(){this.state=adv.ENUM.ADVSTATE.stoped})},setup:function(){},play:function(){},stop:function(){},dispose:function(){}})}(adv),function(t){t.IAdv.extend("DrBase",{init:function(e){this.state=adv.ENUM.ADVSTATE.uninit,this.base(),this.options=adv.merge({},this.options,e),this.id=t.util.guid(),t.util.forEach(this.options.events,function(t){this.on(t.event,t.listener)},this),this.on(adv.ENUM.EVENTS.inited,function(){this.state=adv.ENUM.ADVSTATE.inited}),this.on(adv.ENUM.EVENTS.setuped,function(){this.state=adv.ENUM.ADVSTATE.setuped}),this.on(adv.ENUM.EVENTS.played,function(){this.state=adv.ENUM.ADVSTATE.played}),this.on(adv.ENUM.EVENTS.stoped,function(){this.state=adv.ENUM.ADVSTATE.stoped})},setup:function(){this.ad.instance.setup()},play:function(){this.ad.instance.play()},stop:function(){this.ad.instance.stop()}})}(adv),function(t){t.Class.extend("FtBase",{init:function(t){this.passing=!1,this.options=t},validate:function(){return this.passing=this.accord&&!this.options.skipOnAccord||!this.accord&&this.options.skipOnAccord?!0:!1,this.passing}})}(adv),function(t){"use strict";t.FtBase.extend("FtBrowser",{init:function(t){this.base(t),this.accord="mobile"==this.options.key?adv.util.isMobile:!1}})}(adv),function(t){"use strict";t.FtBase.extend("FtUrl",{init:function(t){this.base(t),this.accord=~location.href.indexOf(this.options.key)}})}(adv),function(t){var e=new t.Collection,n={disable:!1,start:function(){if(this.validate()){for(;advConfigs.configFiles.length;)this.loadConfigFile(advConfigs.configFiles.shift());this.loader=new t[t.CONFIGS.LoaderType],this.loader.start()}},loadConfigFile:function(e){e+="?clear="+Math.floor(new Date/18e4),this.loadScript("adconfig"+t.util.guid(),e)},sendPv:function(t){this.loader.sendPv&&this.loader.sendPv(t)},sendIpa:function(t){this.loader.sendIpa&&this.loader.sendIpa(t)},loadScript:function(t,e,n){var i=document.getElementById(t);if(i){if(n)if(i.ready)n();else{var o=i.onload;i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||n(),o()}}}else i=document.createElement("script"),i.type="text/javascript",i.src=e,i.id=t,n&&(i.onload=i.onreadystatechange=function(){return i.ready?!1:void(i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,i.ready=!0,n()))}),document.getElementsByTagName("head")[0].appendChild(i)},loadSource:function(e,n){var i,o,a=e.type,s=e.version;s&&(s=s.split("."),i=s[0]+"-"+s[1],o=s[2]);var r=t.CONFIGS.baseDir+"/sources/"+a.toLowerCase();r+=i?"/"+i:"",r+="/production.js",r+=o?"?"+o:"",advConfigs.ADV_SYSTEM_DEBUG&&advConfigs.DEBUG_AD&&advConfigs.DEBUG_AD[a]&&(r=advConfigs.DEBUG_AD[a]),this.loadScript(a+"adsourcesembled"+(e.version||""),r,n)},validate:function(){return this.disable=~location.href.indexOf("market17173=false")||window.market17173===!1?!0:!1,!this.disable},config:function(t){t&&this.loader&&this.loader.addAd(t)}};t.merge({adCenter:n}),t.Class.extend("LoaderBase",{init:function(){t.util.forEach(advConfigs,function(n){n.id=t.util.guid(),e.push(n.id,n)})},start:function(){},loadSource:function(e,n){t.adCenter.loadSource(e,n)},addAd:function(n){n.id=t.util.guid(),e.push(n.id,n)},sendPv:function(e){var n=this;this.pvList=this.pvList||[],this.pvList.push(t.util.urlParams(e.pvCode)),clearTimeout(this.pvTimer),this.pvTimer=setTimeout(function(){for(var t,e=[];n.pvList.length;)t=n.pvList.shift(),e.push(t.ad_code+","+t.resource_code+","+t.order_code);var i=new Image;i.src="//vda.17173.com/batch_show?ads="+e.join(";")},5e3)},sendIpa:function(e){$("."+e.advid).each(function(n,i){0===n?t.util.sendIpa($(i),e.ipaCode,!0):t.util.sendIpa($(i),e.ipaCode,!1)})},loadAd:function(e,n){var i=this;e.pvCode&&this.sendPv(e),this.loadSource(e,function(){e.instance=new t[e.type](e),e.instance.on(t.ENUM.EVENTS.played,function(){e.ipaCode&&i.sendIpa(e)}),e.instance.on(t.ENUM.EVENTS.setuped,function(){this.play()}),e.instance.state==t.ENUM.EVENTS.inited?e.instance.setup():e.instance.on(t.ENUM.EVENTS.inited,function(){e.instance.setup()}),n&&n()})},execFilter:function(e){if(e.filters)for(;e.filters.length;)if(filterConfig=e.filters.shift(),!new t[filterConfig.type](filterConfig).validate())return!1;return!0}}),t.LoaderBase.extend("DefaultLoader",{init:function(){this.base()},queueing:!1,start:function(){this.base(),this.next()},next:function(){var t=e.read(),n=this;if(this.queueing=!0,t)if(this.execFilter(t)){var i=setTimeout(function(){n.next()},3e3);this.loadAd(t,function(){clearTimeout(i),n.next()})}else this.next();else this.queueing=!1},addAd:function(t){this.base(t),this.queueing||this.next()}}),t.LoaderBase.extend("LazyLoader",{init:function(){var t=this;this.base(),this.$w=$(window),this.calcSize(!0),this.scrollTimer=setTimeout(function(){t.calcSize(),t.update()},200),this.$w.bind("resize",function(){t._onResize.call(t)}).bind("scroll",function(){t._onScroll.call(t)}),$(document.body).bind("appendHtml",function(){t.update()})},preloadHeight:100,_onResize:function(){var t=this;clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.calcSize(!0),t.update()},100)},_onScroll:function(){var t=this;clearTimeout(t.scrollTimer),t.scrollTimer=setTimeout(function(){t.calcSize(),t.update()},100)},update:function(){var t=this;clearTimeout(this.updateTimer),this.updateTimer=setTimeout(function(){t.checkForLoad()},100)},checkForLoad:function(){var t=this;e.forEach(function(e){t.loadAd(e)})},loadAd:function(t){var e=this;if(!t.lazyLoaded)if(t.advid){if(t.adEl=t.adEl&&t.adEl[0]?t.adEl:$("."+t.advid),t.adEl[0]){var n=e.calcPosition(t.adEl,t);n.below||n.above||(t.lazyLoaded=!0,this.base(t))}}else t.lazyLoaded=!0,this.base(t)},calcSize:function(t){t&&(this.wHeight=this.$w.height()),this.scrollTop=this.$w.scrollTop(),this.screenHeight=this.wHeight+this.scrollTop},calcPosition:function(t){var e;"none"==t.css("display")?(t.show(),e=t.offset().top,t.hide()):e=t.offset().top;var n=this.screenHeight<=e;return above=this.scrollTop>=e+t.height(),{below:n,above:above}},addAd:function(t){this.base(t),this.loadAd(t)}}),t.adCenter.start()}(adv);