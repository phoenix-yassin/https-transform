function setADLink(e){window.ads_rec_data=e;var t=function(e,n){var r;n=n?n:0,r=n+10,r=r>e.length?e.length:r,setTimeout(function(){for(var i,s,o=n;o<r;o++)i=e[o],s=i.containerId?$("#"+i.containerId):$("."+i.containerClass),s&&s.attr("adskey",i.ads).addClass(classNameForSetLinkSearch);r!==e.length?t(e,r):setLink_data=!0},100)};setTimeout(function(){t(e)},500)}var classNameForSetLinkSearch="classNameForSetLinkSearch",classNameForSetLinkAd="classNameForSetLinkAd",setLink_data=!1,_jc_exposure,_jc_logurl="";_jc_logurl="log1.17173.com",function(e){function t(e){return e.href.indexOf("javascript:")!=0?e.href:!1}function n(e){var t=/^([^\:]+)\:\/\/([^\:\/\?]+)(\:\d+)?(\/[^\?]*)?(\?.*)?$/;return e=e.match(t),e&&e.length>1?e=e[2]:e="",e}function r(){var e=12e5,t=_jc_cookie._getCookie("setlink-svn"),n;if(typeof t!="string"||!~t.indexOf(","))t=[1,(new Date).getTime()],n=0;else{var r=(new Date).getTime();t=t.split(","),t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),n=parseInt((r-t[1])/1e3),r>t[1]+e?(t[0]=1,n=0):t[0]++,t[1]=r}return _jc_cookie._setCookie("setlink-svn",t.join()),[t[0],n]}function i(e){var t=new Image,i=0,s=__rf=__ssid=__jc_nuv=__jc_refertype=__jc_kw=__jcrfd=__jc_se="";typeof _jc_uv!="undefined"&&(s=_jc_uv),typeof _jcrf!="undefined"&&(__rf=encodeURIComponent(_jcrf)),typeof _ssid!="undefined"&&(__ssid=_ssid),typeof _jc_nuv!="undefined"&&(__jc_nuv=_jc_nuv),typeof _jc_refertype!="undefined"&&(__jc_refertype=_jc_refertype),typeof _jc_kw!="undefined"&&(__jc_kw=_jc_kw),typeof _jc_se!="undefined"&&(__jc_se=_jc_se),i=r(),__rf==""?__jcrfd="0":__jcrfd=n(_jcrf);try{top.location!=self.location&&__jcrfd.indexOf(".17173.")==-1&&(__jcrfd=3)}catch(o){__jcrfd=3}setTimeout(function(){t.src="http://"+_jc_logurl+"/pv?appkey=113&u="+e.url+"&ads="+e.ads+"&uv="+s+"&ref="+__rf+"&ssid="+__ssid+"&nuv="+__jc_nuv+"&rtype="+__jc_refertype+"&kw="+__jc_kw+"&rfd="+__jcrfd+"&se="+__jc_se+"&svn="+i[0]+"&ol="+i[1]+"&r="+(new Date).getTime()},50)}if(typeof e=="undefined")return;_jc_cookie={_setCookie:function(e,t,n){var r;n&&(r=new Date,r.setTime(n)),document.cookie=e+"="+t+"; domain="+window.location.host+(r?"; expires="+r.toGMTString():"")+"; path=/;"},_getCookie:function(e){var t=RegExp("(^| )"+e+"=([^;]*)(;|$)").exec(document.cookie);return t?t[2]:""}},e(document.body).bind("mouseup",function(n){var r=e(n.target).closest("a"),s=e(n.target).closest(".setlink-keyword"),o=e(n.target).closest("a[data-ggcount]");if(!!o[0]){var u=new Image;u.src="http://upload.zj.17173.com/ggcount/go.php?g_id="+e(o).attr("data-ggcount")+"&r="+(new Date).getTime()}if(window.ads_rec_data){var a=e(n.target).closest("."+classNameForSetLinkSearch);if(!s[0]){if(!!r[0]){a=r.parents("."+classNameForSetLinkSearch);if(!!a[0]){var f=t(r[0]),l=a.attr("adskey");l=="3a9b3f036a2f571a23e1c499d1477791"&&(r.css("color")=="rgb(255, 0, 0)"||r.css("color")=="red")&&(l="1fd7dd878b21dac8312f8f737aaf2eb2"),(f||l=="bb214da5389f1e4854bd40fe8b02b2ae")&&i({url:encodeURIComponent(f),ads:l})}}}else{a=s.parents("."+classNameForSetLinkSearch);if(!!a[0]){var f=a.attr("adskey");i({url:"input",ads:f})}}}});var s="http://"+_jc_logurl+"/pv?appkey=160";scrollHot=function(){this.opts={ssid:1,cacheTop:0,sendStep:0,block:.67,cache:null,marginLeft:0,offsetLeft:0,mainWidth:1e3,delay:3,width:0,height:0,isDuplicate:!0},this._time=null,this._win={stepPixel:e(window).height()*this.opts.sendStep,top:0},this.clearCache=!1,this.init()},scrollHot.prototype={isHidden:function(t){var n=t.target.closest("."+classNameForSetLinkSearch);return n.length===0&&(n=t.target.closest("."+classNameForSetLinkAd)),e(n.context).is(":hidden")||!e(n.context).is(":hidden")&&e(n.context).width()*1.5<e(n.context).children(":first").width()?!0:!1},collision:function(e){var t=this,n=!0,r,i,s=e.offsetTop+e.height*(1-t.opts.block),o=e.offsetTop+e.height*t.opts.block,u=_midRight=0;return i=s>t._win.top&&o<t._win.top+t.opts.height,r=e.offsetTop<t._win.top&&e.offsetTop+e.height>t._win.top+t.opts.height,t.opts.width<t.opts.mainWidth&&(u=e.offsetLeft+e.width*(1-t.opts.block),_midRight=e.offsetLeft+e.width*t.opts.block,e.width<t.opts.width&&(u<t.opts.offsetLeft||_midRight>t.opts.offsetLeft+t.opts.width)&&(n=!1)),(i||r)&&n?!0:!1},findCache:function(){var t=this,n=[],r=e(window).scrollTop(),i=[],o=[];if(t.opts.cache){for(var u=0,a;a=t.opts.cache[u];u++)if(!t.isHidden(a)&&t.collision(a)){var f=[],l=a.offsetLeft,c=a.offsetTop-r,h=a.adskey.split("-");t.opts.offsetLeft>0&&(l-=t.opts.offsetLeft,l=l<0?0:l),c=c<0?0:c,f.push(h[0]),f.push(l+"x"+c),i.push(f.join("|")),t.opts.isDuplicate||(t.opts.cache.splice(u,1),u--)}if(i.length>0){var p=i.join(","),d=t.opts.mainWidth+"x"+t.opts.height,v=new Image,m=__jc_nuv=__ssid="";t.opts.width<t.opts.mainWidth&&(d=t.opts.width+"x"+t.opts.height),typeof _jc_uv!="undefined"&&(m=_jc_uv),typeof _jc_nuv!="undefined"&&(__jc_nuv=_jc_nuv),typeof _ssid!="undefined"&&(__ssid=_ssid);var g=new Image;g.src=s+"&screen="+d+"&ads="+p+"&uv="+m+"&ssid="+__ssid+"&nuv="+__jc_nuv+"&r="+(new Date).getTime()}}},sendlog:function(t){var n=this,r=e(window).scrollTop(),i=Math.abs(r-n._win.top);n.opts.marginLeft=e(document.body).width()-n.opts.mainWidth,n.opts.marginLeft=n.opts.marginLeft<0?0:parseInt(n.opts.marginLeft/2),n._win={stepPixel:n.opts.height*n.opts.sendStep};if(!t&&i<n._win.stepPixel)return;n._win.top=r,n.findCache()},getParentShowDom:function(e){return!e.is(":hidden")&&e.width()>0&&e.height()>0?e:this.getParentShowDom(e.parent())},getDomInfo:function(t){var n=this;n.opts.marginLeft=e(document.body).width()-n.opts.mainWidth,n.opts.marginLeft=n.opts.marginLeft<0?0:parseInt(n.opts.marginLeft/2),n.opts.offsetLeft=e(window).scrollLeft(),n.opts.width=e(window).width(),n.opts.height=e(window).height()},checkAd:function(){var e=this;if(e.clearCache)return e.clearCache=!1,!0;if(e.opts.cache&&e.opts.cache.length>0){var t=e.opts.cache[e.opts.cache.length-1];return t.offsetTop!=parseInt(t.target.offset().top)?!0:!1}return!0},saveCache:function(t){var n=this,r=e("."+classNameForSetLinkSearch),i=e("."+classNameForSetLinkAd);n.opts.cache=n.opts.cache?n.opts.cache:[],n.temp={},addCache=function(e){n.opts.cache.push(e)},n.getDomInfo();var s=function(t,r){var i="trackblock"+n.opts.ssid++,s=e(this).attr("adskey"),o=null,u=0;o=n.getParentShowDom(e(this)),u=parseInt(o.offset().left)-n.opts.marginLeft,u=u<0?0:u,n.temp[s]&&n.temp[s].width*n.temp[s].height>o.width()*o.height()||(n.temp[i+"-"+s]={target:o,width:parseInt(o.width()),height:parseInt(o.height()),adskey:s,offsetTop:parseInt(o.offset().top),offsetLeft:u})};if(n.checkAd()){n.opts.cache=[],r.each(s),i.each(s);for(var o in n.temp)addCache(n.temp[o]);n.temp=null,typeof t=="function"&&t()}else typeof t=="function"&&t()},scrollFunc:function(e){var t=this;return function(){function n(){var r=t.opts.delay,i=(new Date).getTime(),s=parseInt((i-t.startTime)/1e3);e===1&&(s>r?r=0:r-=s),setLink_data===!1?setTimeout(function(){n()},200):(t._time&&clearTimeout(t._time),t._time=setTimeout(function(){t.saveCache(function(){t.sendlog(e)})},r*1e3))}n()}},regEvent:function(){var t=this;e(window).scroll(t.scrollFunc(0)),e(window).resize(t.scrollFunc(0))},addJsAPI:function(){var n=this;if(!window._jc_api)setTimeout(function(){n.addJsAPI()},500);else{window._jc_api._trackBlock=function(r){if(r&&r.length&&2<r.length){e(r[1]).unbind("mouseup.block").bind("mouseup.block",function(n){var r=e(n.target).closest("a"),s=e(this).data("adskey"),o=r[0]?t(r[0]):"trackblock",u=e(n.target).closest(".setlink-close");if(u.length>0)return;i({url:encodeURIComponent(o),ads:s})}).data("adskey",r[2]);if(typeof r[3]=="undefined"||r[3]&&r[3]===!0){var s=e(r[1]).closest("."+classNameForSetLinkAd).length;s=s===0?e(r[1]).find("."+classNameForSetLinkAd).length:0,s||e(r[1]).addClass(classNameForSetLinkAd).attr({adskey:r[2],trackblock:"true"}),n.clearCache=!0}}},window._jc_api._trackBlockFlash=function(e){if(!e||e.length<2)return;i({ads:e[1],url:e[2]?e[2]:"trackflash"})},window._jc_api._trackExposure=function(t){if(t&&t.length&&3===t.length){var r=e(t[1]).closest("."+classNameForSetLinkAd).length;r=r===0?e(t[1]).find("."+classNameForSetLinkAd).length:0,r||e(t[1]).addClass(classNameForSetLinkAd).attr({adskey:t[2]}),n.clearCache=!0}};var r=window._jc_ping_cache;if(r)for(var s=0,o=r.length;s<o&&r[s];s++)r[s][0]&&r[s][0]==="_trackBlock"&&window._jc_ping.push(r[s])}},init:function(){var e=this;e.addJsAPI(),e.startTime=(new Date).getTime(),e.scrollFunc(1)(),e.regEvent()}};try{_jc_exposure||(_jc_exposure=1,window.homeHot=new scrollHot)}catch(o){}}(jQuery)